"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,u=function(e,t){if(null==e)return{};var r,n,u={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(u[r]=e[r]);return u}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,u,a=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(e){i=!0,u=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw u}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=e.createContext(),s=["children"],d=function(e){var t=e.children,n=i(e,s);return r.default.createElement("button",n,t)},v=["children","id"],m=["children"],p=["fieldType","name"],b={datalist:function(e){var t=e.children,n=e.id,u=i(e,v),a="".concat(n,"s");return r.default.createElement(r.default.Fragment,null,r.default.createElement("input",l({list:a,id:n},u)),r.default.createElement("datalist",{id:a},t))},input:function(e){return r.default.createElement("input",e)},select:function(e){var t=e.children,n=i(e,m);return r.default.createElement("select",n,t)},textarea:function(e){return r.default.createElement("textarea",e)}},y=function(e,t){return void 0!==e?e:!Object.keys(t).length},h=function(t){var r=t.initialValues,n=t.onSubmit,l=t.initialTouched,i=void 0===l?{}:l,c=t.initialErrors,f=void 0===c?{}:c,s=t.initialIsValid,d=t.runInitialValidation,v=void 0!==d&&d,m=t.validate,p=t.validateOnChange,b=void 0===p||p,h=t.validateOnBlur,O=void 0===h||h,g=o(e.useState(r),2),j=g[0],E=g[1],S=o(e.useState(f),2),w=S[0],P=S[1],x=o(e.useState(i),2),C=x[0],F=x[1],k=o(e.useState(y(s,f)),2),A=k[0],I=k[1],V=o(e.useState(0),2),D=V[0],B=V[1],T=e.useRef(null),R=e.useRef(null),M=e.useRef(null),_=function(){if(!m)return!0;var e=m(j);return P(e),!Object.keys(e).length};e.useEffect((function(){if(M.current){var e=!Object.keys(w).length;I(e)}M.current||(M.current=!0)}),[w]),e.useEffect((function(){v&&_()}),[]),e.useEffect((function(){b&&T.current&&_(),T.current||(T.current=!0)}),[j]),e.useEffect((function(){O&&R.current&&_(),R.current||(R.current=!0)}),[C]);var q=function(e){var t=e.name,r=e.value,n=u(u({},j),{},a({},t,r));E(n)},U=function(){T.current=null,R.current=null,M.current=null,E(r),P(f),F(i),I(y(s,f)),B(0)};return{values:j,errors:w,touched:C,handleChange:function(e){var t=e.target,r=t.name,n=t.value;q({name:r,value:n})},setFieldValue:function(e){var t=e.name,r=e.value;q({name:t,value:r})},setValues:E,handleBlur:function(e){var t=e.target.name;C[t]||F((function(e){return u(u({},e),{},a({},t,!0))}))},validateForm:_,isValid:A,handleSubmit:function(e){e&&e.preventDefault(),B((function(e){return e+1})),F(Object.keys(j).reduce((function(e,t){return u(u({},e),{},a({},t,!0))}),{})),_()&&n(j,U)},formSubmitCount:D,resetForm:U}},O=["children"];exports.Field=function(t){var n=t.fieldType,a=void 0===n?"input":n,l=t.name,o=i(t,p),c=e.useContext(f),s=c.values,v=c.handleChange,m=c.handleBlur;if("button"===a)return r.default.createElement(d,o);var y=s[l],h=b[a];return r.default.createElement(h,u(u({},o),{},{name:l,value:y,onChange:v,onBlur:m,id:l}))},exports.Form=function(e){var t=e.children,n=i(e,O),u=h(n),a=u.handleSubmit;return r.default.createElement(f.Provider,{value:u},r.default.createElement("form",{onSubmit:a},t(u)))},exports.FormContext=f,exports.useForm=h;
